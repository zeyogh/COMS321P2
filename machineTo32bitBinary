import java.io.File;
import java.io.FileInputStream;
import java.io.IOException;
import java.util.ArrayList;


public class DecodeBinary{
	
	public static void main(String[] args) throws IOException {
		ArrayList<String> s = new ArrayList<String>();
		fetch f = new fetch();
		s = f.readInput("C:\\Users\\jacob\\Desktop\\BinaryTest.legv8asm.machine");
		
		for (int i = 0; i < s.size(); i++) {
			RFormat rType = new RFormat(s.get(i));
			IFormat iType = new IFormat(s.get(i));
			DFormat dType = new DFormat(s.get(i));
			BFormat bType = new BFormat(s.get(i));
			CBFormat cbType = new CBFormat(s.get(i));
			
			System.out.println("---------------------");
		}
		
	}
}

class fetch {
	public ArrayList<String> readInput(String fileName) throws IOException{
	       FileInputStream fis = new FileInputStream(new File (fileName));
	       ArrayList<String> instructions = new ArrayList<String>();
	       int index = 0;
	       int count = 0;
	       String[] arrS = new String[4];
	       
	       while (fis.available() != 0) {
	    	   
	    	   String instLine = "";
	    	   int n = fis.read();
		       String op = String.format("%8s", Integer.toBinaryString(n).replace(' ', '0'));
		       arrS[count] = op;
		       count++;
		       
		       if(count == 4) {
			       
			       for (int i = 0; i < arrS.length; i++) {
			    	   for (int j = 0; j < 8; j++) {
			    		   if(arrS[i].charAt(j) == ' ') {
			    			   instLine += 0;
			    		   }
			    		   else {
			    			   instLine = instLine + "" + arrS[i].charAt(j);
			    		   }
			    	   }
			       } 
			       
			       instructions.add(instLine);
			       count = 0;
		       }   
	       }
	       
	       for (int i = 0; i < instructions.size(); i++) {
	    	   System.out.println(instructions.get(i));
	       }
	       
	       return instructions;
	}
}
